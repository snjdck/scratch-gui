const ScratchFunctionProvider = require('./ScratchFunctionProvider');
const {Interpreter, Thread} = require("../blockly");

Thread.EXEC_TIME = 6;

class ScratchInterpreter extends Interpreter
{
	constructor(runtime){
		super(new ScratchFunctionProvider(runtime));
	}

	stopOtherThreadsOnTarget(target, exceptThread){
		for(const thread of this.getCopyOfThreadList()){
			if(thread == exceptThread){
				continue;
			}
			if(target == thread.userData.target){
				thread.interrupt();
			}
		}
	}
}

module.exports = ScratchInterpreter;